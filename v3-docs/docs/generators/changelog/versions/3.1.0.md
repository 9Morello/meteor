## v3.1.0, 2024-xx-xx

### Highlights

- Upgrade to Node v22
- Upgrade Mongo Driver to v6
- Upgrade Express to v5
- Bring the `roles` package into the core
- Solve remaining issues with Top Level Await and Reify
- Refactor part of the real-time code in the `mongo` package into TypeScript
- Deprecate `underscore` and eliminate it from packages
- Fix Cordova dependency issues
- Simplify Meteor.EnvironmentVariable and make sure it works in all cases
- Stop using Rosetta for development MongoDB on Apple Silicon
- Test improvements
- Bump `http` package to 3.0.0

#### Breaking Changes

- Express is now at v5 and some it's APIs have changed.

####  Internal API changes

N/A

#### Migration Steps

Please run the following command to update your project:

```bash

meteor update --release 3.1.0

```

Make sure to migrate userland code to use the new Express APIs: 

https://expressjs.com/en/guide/migrating-5.html



#### Meteor Version Release

### Bumped Packages

- babel-compiler@7.11.2-beta310.0
- boilerplate-generator-tests@1.5.3-beta310.0
- ddp-client@3.0.3-beta310.0
- ddp-server@3.0.3-beta310.0
- http@3.0.0
- ecmascript@0.16.10-beta310.1
- email@3.1.1-beta310.0
- meteor-tool@3.1.0-beta310.0
- meteor@2.0.2-beta310.0
- minifier-js@3.0.1-beta310.0
- minimongo@2.0.2-beta310.0
- modules@0.20.3-beta310.0
- mongo@2.0.3-beta310.0
- coffeescript-compiler@2.4.2-beta310.0
- coffeescript@2.7.2-beta310.0
- mongo-decimal@0.1.6-beta310.0
- npm-mongo@4.17.3-beta310.0
- shell-server@0.6.1-beta310.0
- test-helpers@2.0.2-beta310.0
- test-in-console@2.0.1-beta310.0
- tinytest@1.3.1-beta310.0
- typescript@5.6.3-beta310.0
- webapp@2.0.4-beta310.0

#### Special thanks to

N/A
